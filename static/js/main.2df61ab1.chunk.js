(this.webpackJsonpbustracker=this.webpackJsonpbustracker||[]).push([[0],{18:function(e,t,n){e.exports=n(25)},25:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),s=n(8),u=n(16),i=n(27),l=n(29),m=n(28),b=n(30);n(7);var p=function(e){var t=e.stops,n=e.busNumberLookup,a=t.map((function(e){return r.a.createElement(i.a,{position:[e.x,e.y],key:e.stopId},r.a.createElement(l.a,null,"Stop name: ",e.name,r.a.createElement("br",null),"Busses: ",function(e){var t,a="",r=Object(u.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value;a+=n[c]+", "}}catch(o){r.e(o)}finally{r.f()}return a.slice(0,a.length-2)}(e.services)))}));return r.a.createElement(m.a,{className:"map",center:[55.948714,-3.199913],zoom:11.5},r.a.createElement(b.a,{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager/{z}/{x}/{y}{r}.png",attribution:'\xa9 <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> \xa9 <a href="http://carto.com/attributions">CARTO</a>'}),a)};var f=function(e){var t=e.busNumberLookup,n=e.onBusServiceChosen,a=Object.keys(t).map((function(e){return r.a.createElement("option",{value:e,key:e},t[e])}));return r.a.createElement("select",{className:"service-select",name:"Select Bus",onChange:function(e){n(e.target.value)}},r.a.createElement("option",null,"Please Select a Service"),a)};var h=function(e){var t=e.selectedBusNumber;return r.a.createElement("section",{className:"sidebar"},r.a.createElement("div",{className:"number-box"},t))};var v=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)({}),u=Object(s.a)(o,2),i=u[0],l=u[1],m=Object(a.useState)(""),b=Object(s.a)(m,2),v=b[0],E=b[1],d=Object(a.useState)(""),j=Object(s.a)(d,2),k=j[0],O=j[1];return Object(a.useEffect)((function(){O(i[v])}),[v]),Object(a.useEffect)((function(){fetch("https://lothian-bus.herokuapp.com/").then((function(e){return e.json()})).then((function(e){return c(e.busStops)}))}),[]),Object(a.useEffect)((function(){fetch("https://lothian-bus.herokuapp.com/busServiceNumbers").then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(p,{stops:n.filter((function(e){return e.services.includes(v)})),busNumberLookup:i}),r.a.createElement(f,{busNumberLookup:i,onBusServiceChosen:function(e){E(e)}}),r.a.createElement(h,{selectedBusNumber:k}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){}},[[18,1,2]]]);
//# sourceMappingURL=main.2df61ab1.chunk.js.map